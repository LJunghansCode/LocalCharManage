<form>
<section class="hero is-bold is-dark ">
  <div class="singlePlayerHero hero-body">
    <div class="container">
      <h1 data-ng-bind="player.name" class="title is-1">
      </h1>
      <h1 class="subtitle">{{player.name}} the level {{player.level}} {{player.classType}}..
      </h1>
    </div>
  </div>
</section>

<section class="section">
    <div class="container playerButtons">
         <button ng-if="!player.editing && player.youOwnThis" class="button is-info" ng-click="toggleEdit(player)">Edit</button>
         <button ng-if="player.editing && player.youOwnThis" ng-click="toggleEdit(player); updateAndSave(player)" class="button is-primary" type="submit">Save</button>
         <button class="button is-dark" ng-if="player.youOwnThis" ng-click="toggleJoinCampaign()">Join a campaign!</button>
    </div>
</section>
<div class="tile">
  <div class="tile is-vertical is-8">
    <div class="tile">
      <div class="tile is-parent is-vertical">
        <article class="tile is-child content notification is-dark">
            <h1 class="title">Basic Information</h1>
            <div ng-repeat="stat in basicInformation" class="stat-container">
                <button ng-click="editStat(stat);" class="button is-info is-small"><p ng-bind="stat.title" ></p></button>
                <p class="playerStatItem" ng-if="!stat.editing && !player.editing"ng-bind="player[stat.stat]"></p>
                <input class="input playerStatItem" ng-if="stat.editing || player.editing" ng-model="player[stat.stat]">
            </div>
         <div class="content">
         
    </div>
        </article>
        <article class="tile is-child notification is-dark">
        <p class="title">Vitals</p>
        <div ng-repeat="stat in vitals" class="stat-container">
             <button ng-click="editStat(stat);" class="button is-info is-small"><p ng-bind="stat.title"></p></button>
                <p class="playerStatItem" ng-if="!stat.editing && !player.editing"ng-bind="player[stat.stat]"></p>
                <input class="input" ng-if="stat.editing || player.editing" ng-model="player[stat.stat]">
        </div>
        </article>
      </div>
      <div class="tile is-parent">
        <article class="tile is-child notification is-dark">
        <div class="content">
        <p class="title">Primary Stats</p>
        <div ng-repeat="stat in primaryStats" class="stat-container">
             <button ng-click="editStat(stat);" class="button is-info is-small"><p ng-bind="stat.title"></p></button>
                <p class="playerStatItem" ng-if="!stat.editing && !player.editing" ng-bind="player[stat.stat]"></p><p ng-if="!stat.editing && !player.editing" ng-bind="statModCalc(stat.stat)"></p>
                <input class="input" ng-if="stat.editing || player.editing" ng-model="player[stat.stat]">
        </div>
        </div>
        <div class="content">
         <p class="title">Spell Details</p>
        <div ng-repeat="stat in spellDetails" class="stat-container">
             <button ng-click="editStat(stat);" class="button is-info is-small"><p ng-bind="stat.title" ></p></button>
                <p class="playerStatItem" ng-if="!stat.editing && !player.editing"ng-bind="player[stat.stat]"></p>
                <input class="input" ng-if="stat.editing || player.editing" ng-model="player[stat.stat]">
        </div>
        </div>
        </article>
      </div>
    </div>
    <div class="tile is-parent">
      <article class="tile is-child notification is-dark">
        <div class="content">
        <p class="title is-3"> {{player.name}}'s Spell List </p>
        <button class="button is-small  is-primary fa fa-plus" ng-if="player.youOwnThis" ng-click="addSpell()"></button>
        <div data-ng-repeat="spell in player.spellList">
            <div class="spellCard card">
                <div class="card-header">
                    <p ng-bind="spell.name" class="card-header-title"></p>
                    <button class="button is-danger is-small fa fa-trash-o is-info card-header-icon" ng-click="deleteSpell(spell)"></button>
                </div>
                <div class="card-content">
                    <input ng-if="spell.spellEditing" placeholder="Spell name" ng-model="spell.name" class="input">
                    <textarea ng-if="spell.spellEditing" placeholder="Add a description!" ng-model="spell.description" rows="10" style="height:7em;"class="input" ></textarea><p class="spellDescription"ng-if="!spell.spellEditing" ng-bind="spell.description"></p>
                </div>
                <div class="card-footer">
                     <button ng-if="!spell.spellEditing" class="button is-small is-info" ng-click="toggleSpellEdit(spell)">Edit</button>
                     <button ng-if="spell.spellEditing" ng-click="toggleSpellEdit(spell); updateAndSave(player)" class="button is-small is-primary" type="submit">Save</button>
                </div>
            </div>
        </div>
      </div>
      </article>
      <article class="tile is-child notification is-dark">
        <div class="content">
        <p class="title is-3"> {{player.name}}'s Equipment List </p>
         <button class="button is-small is-primary fa fa-plus" ng-if="player.youOwnThis" ng-click="addEquipment()"></button>
        <div data-ng-repeat="equipment in player.equipment">
            <div class="spellCard card">
                <div class="card-header">
                    <p ng-bind="equipment.name" class="card-header-title"></p>
                    <button class="button is-danger is-small  fa fa-trash-o is-info card-header-icon" ng-click="deleteEquipment(equipment)"></button>
                </div>
                <div class="card-content">
                    <input ng-if="equipment.equipmentEditing" placeholder="Equipment name" ng-model="equipment.name" class="input">
                    <textarea ng-if="equipment.equipmentEditing" placeholder="Add a description!" ng-model="equipment.description" rows="10" style="height:7em;"class="input" ></textarea><p ng-if="!equipment.equipmentEditing" ng-bind="equipment.description"></p>
                </div>
                <div class="card-footer">
                     <button ng-if="!equipment.equipmentEditing" class="button is-small is-info" ng-click="toggleEquipmentEdit(equipment)">Edit</button>
                     <button ng-if="equipment.equipmentEditing" ng-click="toggleEquipmentEdit(equipment); updateAndSave(player)" class="button is-small is-primary" type="submit">Save</button>
                </div>
            </div>
    </div>
    </div>
      </article>
    </div>
  </div>
  <div class="tile is-parent">
    <article class="tile is-child notification is-dark">
                <div class="content">
        <p class="title">Details</p>
        <div ng-repeat="stat in charDetails" class="stat-container">
             <button ng-click="editStat(stat);" class="button is-info is-small"><p ng-bind="stat.title" ></p></button>
                <p class="playerStatItem" ng-if="!stat.editing && !player.editing" ng-bind="player[stat.stat]"></p>
                <textarea class="textarea" ng-if="stat.editing || player.editing" ng-model="player[stat.stat]"></textarea>
        </div>
        </div>
    
    </article>
  </div>
</div>

</div>
</div>
</form>
 <div id="campaignModal"class="modal">
            <div ng-click="toggleJoinCampaign()" class="modal-background"></div>
             <form>
            <div class="modal-card">
                    <header class="modal-card-head">
                        <p class="modal-card-title">Join a campaign</p>
                        <button class="delete is-medium" ng-click="toggleJoinCampaign()"></button>
                    </header>
                    <section class="modal-card-body">
                        <p class="title is-5"ng-bind="campaignJoinResponse"></p>
                        <p>Name: </p> <input type="text" class="input" ng-model="campaignCred.title">
                        <p>Password: </p> <input type="password" class="input" ng-model="campaignCred.password">
                    </section>
                    <footer class="modal-card-foot">
                        <button class="button is-primary" ng-click="joinCampaign(player, campaignCred);">Join</button>
                    </footer>
            </div>
             </form>
</div>
